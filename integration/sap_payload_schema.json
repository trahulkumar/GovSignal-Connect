{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "GovSignal Procurement Trigger",
    "description": "Standard payload for injecting federal demand signals into SAP IDoc or Oracle REST endpoints.",
    "properties": {
        "_comment": {
            "type": "string",
            "const": "Maps to SAP BAPI_PO_CREATE1 interface for Z-code authorization."
        },
        "signal_id": {
            "type": "string",
            "description": "Unique UUID for idempotency in SAP middleware."
        },
        "sap_bapi_transaction_code": {
            "type": "string",
            "enum": [
                "RELEASE_BLOCK_Z1",
                "UPDATE_SS_Z2",
                "BLOCK_REVIEW_Z3"
            ],
            "description": "Custom Z-transaction codes for automated capital release."
        },
        "sap_doc_type": {
            "type": "string",
            "const": "NB",
            "description": "SAP BSART (Document Type) - Standard PO"
        },
        "sap_purch_org": {
            "type": "string",
            "const": "1000",
            "description": "SAP EKORG (Purchasing Organization)"
        },
        "sap_company_code": {
            "type": "string",
            "const": "1000",
            "description": "SAP BUKRS (Company Code)"
        },
        "detected_asset": {
            "type": "string",
            "enum": [
                "TWT_Amplifier",
                "Vacuum_Chamber_UHV",
                "InGaAs_Sensor"
            ]
        },
        "federal_source": {
            "type": "string",
            "enum": [
                "SAM_GOV",
                "FEDERAL_REGISTER",
                "CHIPS_ACT"
            ]
        },
        "confidence_score": {
            "type": "number",
            "minimum": 0.0,
            "maximum": 1.0
        }
    }
}